<!DOCTYPE html>
<html lang="en">

<head>
    <title>Christmas Treasure Hunt</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="vendors/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="vendors/css/grid.css">
    <link rel="stylesheet" type="text/css" href="resources/css/style.css">
    <link rel="stylesheet" type="text/css" href="resources/css/queries.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:100,300,300i,400" rel="stylesheet">
    <link rel="icon" type="image/png" href="resources/img/santa-hat.png">
</head>

<body>

    <header>
        <nav>
            <div class="row">
                <img src="resources/img/santa-hat.png" alt="Santa Hat" class="logo">
            </div>
        </nav>
        <div class="hero-text-box">
            <h1>Merry Christmas<br>
                Beth & Dan!</h1>
            <h4>
                Enter the correct value in every box! If you're right, a phrase will appear! Text me the phrase to win
                your prize!
            </h4>
        </div>
    </header>

    <section class="section-form">
        <div class="row">
            <h2>Answers!</h2>
        </div>
        <div class="row">
            <form method="POST" onsubmit="myFunction()" class="contact-form">
                <div class="row">
                    <div class="col span-1-of-3">
                        <label for="q1">What is 2 + 2?</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q1" id="q1" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question2" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q2">Question 2</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q2" id="q2" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question3" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q3">Question 3</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q3" id="q3" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question4" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q4">Question 4</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q4" id="q4" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question5" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q5">Question 5</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q5" id="q5" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question6" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q6">Question 6</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q6" id="q6" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question7" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q7">Question 7</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q7" id="q7" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question8" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q8">Question 8</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q8" id="q8" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question9" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q9">Question 9</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q9" id="q9" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row" id="question10" style="display: none;">
                    <div class="col span-1-of-3">
                        <label for="q10">Question 10</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="text" name="q10" id="q10" onkeyup="checkAnswer(event)" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col span-1-of-3">
                        <label>&nbsp;</label>
                    </div>
                    <div class="col span-2-of-3">
                        <input type="button" value="Check answers!" style="width: 50%;" onclick="myFunction()"></input>
                    </div>
                    <div class="row">
                        <div class="col answer-label">
                            <p id="result" style="visibility: hidden;">One of your answers is wrong!</p>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <footer>
        <div class="row">
            <p>
                Built by Joe Schofield
            </p>
        </div>
    </footer>

    <script>
        const answers = {
            q1: '4',
            q2: '2',
            q3: '3',
            q4: '4',
            q5: '5',
            q6: '6',
            q7: '7',
            q8: '8',
            q9: '9',
            q10: '10'
        }

        function checkAnswer(e) {
            const id = e.target.id;

            if (e.target.value === answers[id]) {
                const nextQuestion = "question" + (Number(id.split('')[1]) + 1)
                document.getElementById(nextQuestion).style.display = "block";
            }
        }

        function myFunction() {
            let isCorrect = true;

            Object.keys(answers).forEach(a => {
                if (document.getElementById(a).value !== answers[a]) {
                    isCorrect = false;
                }
            });

            if (isCorrect) {
                document.getElementById("result").innerHTML = "You got it! Text me the following phrase to claim your prize: </br> \"It's a Christmas miracle! We did it! Joe & Mims are the best!\""
            }

            document.getElementById("result").style.visibility = "visible";
        }
    </script>
</body>

</html>
